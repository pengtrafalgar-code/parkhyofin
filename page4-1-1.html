<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>공론장을 찾아서 — 의사의 방 (힌트)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <link rel="stylesheet" href="styles.css">
  <style>
    /* --- 기본 스타일 --- */
    html, body { height:100%; margin:0; }
    body {
      height:100vh;
      background: linear-gradient(to bottom, #0a0a0f, #1a1a2e);
      color: #e0e0e0;
      font-family: "Cinzel", serif;
      display:flex;
      justify-content:center;
      align-items:center;
      text-align:center;
      overflow:hidden;
      position:relative;
    }

    /* 안개(fog) 효과 */
    body::before {
      content:"";
      position:absolute;
      inset:0;
      background: url("배경.png") repeat;
      opacity:0.20;
      z-index:0;
      animation: fogMove 60s linear infinite;
    }
    @keyframes fogMove { from{background-position:0 0;} to{background-position:2000px 0;} }

    /* 컨테이너 */
    .wrap {
      width:100%;
      max-width:1100px;
      z-index:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      padding:12px;
      box-sizing:border-box;
    }

    /* 공통 이미지 */
    .image {
      width:72%;
      max-width:820px;
      height:auto;
      display:block;
      margin:0 auto;
    }

    /* 의사의 말 */
    .speech-img {
      box-shadow:none;
      border-radius:6px;
      object-fit:contain;
      max-height:28vh;
    }

    /* 의사의 방 */
    .room-wrap { 
      position:relative; 
      width:72%; 
      max-width:820px; 
      margin:0 auto; 
    } 
    .room-img { 
      width:100%; 
      height:auto; 
      max-height:48vh;
      object-fit:cover;
      border-radius:8px;
      box-shadow:0 0 20px #6a0dad, 0 0 40px #9d4edd;
      display:block;
    }

    /* 정답 버튼 */
    .check-btn {
      background:#6a0dad;
      color:#fff;
      padding:14px 24px;
      font-size:23px;
      border:none;
      border-radius:50px;
      cursor:pointer;
      box-shadow:0 0 10px #6a0dad, 0 0 20px #3c096c;
      transition:0.25s;
      width:200px;
      z-index:1;
      margin-top:20px;
    }
    .check-btn:hover {
      background:#9d4edd;
      box-shadow:0 0 15px #9d4edd, 0 0 30px #c77dff;
    }

    /* === 핵심 수정: Hotspot 비율 고정형 === */
    .hotspot {
      position:absolute;
      width:8%;   /* ✅ 원래 65px → 이미지 비율 기준으로 조정 */
      aspect-ratio:1/1; /* 정사각형 유지 */
      border-radius:50%;
      transform:translate(-50%,-50%);
      cursor:pointer;
      z-index:2;
      background:transparent; /* 디버그용이면 rgba(255,0,0,0.3) */
      transition:transform .12s;
      display:inline-block;
    }
    .hotspot:hover {
      transform:translate(-50%,-50%) scale(1.08);
      box-shadow:0 0 12px rgba(154,65,255,0.16);
    }

    /* 반응형 조정 */
    @media (max-width:900px){
      .hotspot { width:10%; } /* 화면 작아지면 버튼도 약간 더 작게 */
      .check-btn { width:170px; padding:12px 20px; font-size:16px; }
      .speech-img { max-height:22vh; }
      .room-img { max-height:50vh; }
    }

    /* 힌트 모달 */
    #hintModal {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.6);
      justify-content:center;
      align-items:center;
      z-index:1000;
    }
    #hintImage {
      max-width:80%;
      max-height:80%;
      border-radius:8px;
      box-shadow:0 0 20px rgba(255,255,255,0.5);
      cursor:pointer;
    }

    #closeHint {
      position:absolute;
      width:72px;
      height:72px;
      border:none;
      background:transparent;
      cursor:pointer;
      top:10%;
      right:10%;
      z-index:1001;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <img src="의사의 말.png" alt="의사의 말" class="image speech-img">

    <div class="room-wrap" aria-label="의사의 방 이미지 — 숫자 영역을 눌러 힌트를 확인하세요.">
      <img src="의사의 방.png" alt="의사의 방" class="room-img">

      <!-- ✅ 버튼 위치는 % 단위 그대로 유지 -->
      <a class="hotspot" href="#" onclick="showHint('의사의 방 힌트 1.png'); return false;"
         style="left: 8.7%; top: 25.2%;" title="모니터" aria-label="힌트 1"></a>

      <a class="hotspot" href="#" onclick="showHint('의사의 방 힌트 2.png'); return false;"
         style="left: 56.8%; top: 74%;" title="수첩" aria-label="힌트 2"></a>

      <a class="hotspot" href="#" onclick="showHint('의사의 방 힌트 3.png'); return false;"
         style="left: 80.5%; top: 40.2%;" title="의사 가운" aria-label="힌트 3"></a>

      <a class="hotspot" href="#" onclick="showHint('의사의 방 힌트 4.png'); return false;"
         style="left: 49.0%; top: 15.3%;" title="내과학개론" aria-label="힌트 4"></a>
    </div>

    <button class="check-btn" onclick="location.href='page4-1-2.html'">정답 확인</button>
  </div>

  <div id="hintModal" aria-hidden="true">
    <img id="hintImage" src="" alt="힌트 그림">
    <button id="closeHint" aria-label="힌트 닫기"></button>
  </div>

  <script>
    function showHint(imgSrc){
      const modal=document.getElementById('hintModal');
      const img=document.getElementById('hintImage');
      img.src=imgSrc;
      modal.style.display='flex';
      modal.setAttribute('aria-hidden','false');
    }

    document.getElementById('hintImage').addEventListener('click',function(){
      const modal=document.getElementById('hintModal');
      this.src='';
      modal.style.display='none';
      modal.setAttribute('aria-hidden','true');
    });

    document.getElementById('closeHint').addEventListener('click',function(e){
      const modal=document.getElementById('hintModal');
      document.getElementById('hintImage').src='';
      modal.style.display='none';
      modal.setAttribute('aria-hidden','true');
      e.stopPropagation();
    });

    document.addEventListener('keydown',function(e){
      if(e.key==='Escape'){
        const modal=document.getElementById('hintModal');
        if(modal.style.display==='flex'){
          document.getElementById('hintImage').src='';
          modal.style.display='none';
          modal.setAttribute('aria-hidden','true');
        }
      }
    });
  </script>
</body>
</html>
